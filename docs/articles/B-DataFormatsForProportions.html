<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Data formats for proportions • ANOPA</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Data formats for proportions">
<meta property="og:description" content="This vignette describes the various ways that proportions can be entered in a data.frame.
">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ANOPA</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/A-WhatIsANOPA.html">What is an Analysis of Proportions using the Anscombe Transform?</a>
    </li>
    <li>
      <a href="../articles/B-DataFormatsForProportions.html">Data formats for proportions</a>
    </li>
    <li>
      <a href="../articles/C-ConfidenceIntervals.html">Confidence intervals with proportions</a>
    </li>
    <li>
      <a href="../articles/D-ArringtonExample.html">Analyzing proportions with the Arrington et al. 2002 example</a>
    </li>
    <li>
      <a href="../articles/E-ArcsineIsAsinine.html">Is the ArcSine transformation so asinine in the end?</a>
    </li>
    <li>
      <a href="../articles/F-TestingTypeIError.html">Testing type-I error rates</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/dcousin3/ANOPA/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Data formats for proportions</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/dcousin3/ANOPA/blob/HEAD/../vignettes/B-DataFormatsForProportions.Rmd" class="external-link"><code>../vignettes/B-DataFormatsForProportions.Rmd</code></a></small>
      <div class="hidden name"><code>B-DataFormatsForProportions.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="data-formats-for-proportions">Data formats for proportions<a class="anchor" aria-label="anchor" href="#data-formats-for-proportions"></a>
</h2>
<p>proportions are actually not raw data: they are the proportion of one
response (typically called a <code>success</code>) over all the
responses (the other responses being called collectively a
<code>failure</code>). As such, a proportion is a <em>summary
statistic</em>, a bit like the mean is a summary statistic of continuous
data.</p>
<p>Very often, the <code>success</code> are coded using the digit
<code>1</code> and the <code>failure</code>, with the digit
<code>0</code>. When this is the case, computing the mean is actually
the same as computing the proportion of successes. However, it is a
conceptual mistake to think of proportions as means, because they must
the processed completely differently from averages. For example,
standard error and confidence intervals for proportions are obtained
using very different procedures than standard error and confidence
intervals for the mean.</p>
<p>In this vignette, we review various ways that data can be coded in a
data frame. In a nutshell, there are three ways to represent success or
failures, Wide, Long, and Compiled. The first two shows raw scores
whereas the last shows a summary of the data.</p>
<p>Before we begin, we load the package <code>ANOPA</code> (if is not
present on your computer, first upload it to your computer from CRAN or
from the source repository
<code>devtools::install_github("dcousin3/ANOPA")</code>):</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dcousin3.github.io/ANOPA/">ANOPA</a></span><span class="op">)</span>   </span></code></pre></div>
<div class="section level3">
<h3 id="first-format-wide-data-format">First format: Wide data format<a class="anchor" aria-label="anchor" href="#first-format-wide-data-format"></a>
</h3>
<p>In this format, there is one line per <em>subject</em> and one column
for each measurements. The columns contain only 1s
(<code>success</code>) or 0s (`failure).</p>
<p>If the particpant was measured multiple times, there is one (or some)
within-subject factor(s) resulting in multiple columns of measurements.
In between-group design, there is only a single column of scores.</p>
<p>As an example, consider the following data for a between-subject
factor design with two factors: Class (2 levels) and Difficulty (3
levels) for 6 groups. There is an identical number of participants in
each, 12, for a total of 72 participants.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dataWide1</span></span></code></pre></div>
<pre><code><span><span class="co">##    Class Difficulty success</span></span>
<span><span class="co">## 1  First       Easy       1</span></span>
<span><span class="co">## 2  First       Easy       1</span></span>
<span><span class="co">## 3  First       Easy       1</span></span>
<span><span class="co">## 4  First       Easy       1</span></span>
<span><span class="co">## 5  First       Easy       1</span></span>
<span><span class="co">## 6  First       Easy       1</span></span>
<span><span class="co">## 7  First       Easy       1</span></span>
<span><span class="co">## 8  First       Easy       1</span></span>
<span><span class="co">## 9  First       Easy       1</span></span>
<span><span class="co">## 10 First       Easy       1</span></span>
<span><span class="co">## 11 First       Easy       1</span></span>
<span><span class="co">## 12 First       Easy       0</span></span>
<span><span class="co">## 13 First   Moderate       1</span></span>
<span><span class="co">## 14 First   Moderate       1</span></span>
<span><span class="co">## 15 First   Moderate       1</span></span>
<span><span class="co">## 16 First   Moderate       1</span></span>
<span><span class="co">## 17 First   Moderate       1</span></span>
<span><span class="co">## 18 First   Moderate       1</span></span>
<span><span class="co">## 19 First   Moderate       1</span></span>
<span><span class="co">## 20 First   Moderate       1</span></span>
<span><span class="co">## 21 First   Moderate       1</span></span>
<span><span class="co">## 22 First   Moderate       0</span></span>
<span><span class="co">## 23 First   Moderate       0</span></span>
<span><span class="co">## 24 First   Moderate       0</span></span>
<span><span class="co">## 25 First  Difficult       1</span></span>
<span><span class="co">## 26 First  Difficult       1</span></span>
<span><span class="co">## 27 First  Difficult       1</span></span>
<span><span class="co">## 28 First  Difficult       1</span></span>
<span><span class="co">## 29 First  Difficult       1</span></span>
<span><span class="co">## 30 First  Difficult       1</span></span>
<span><span class="co">## 31 First  Difficult       0</span></span>
<span><span class="co">## 32 First  Difficult       0</span></span>
<span><span class="co">## 33 First  Difficult       0</span></span>
<span><span class="co">## 34 First  Difficult       0</span></span>
<span><span class="co">## 35 First  Difficult       0</span></span>
<span><span class="co">## 36 First  Difficult       0</span></span>
<span><span class="co">## 37  Last       Easy       1</span></span>
<span><span class="co">## 38  Last       Easy       1</span></span>
<span><span class="co">## 39  Last       Easy       1</span></span>
<span><span class="co">## 40  Last       Easy       1</span></span>
<span><span class="co">## 41  Last       Easy       1</span></span>
<span><span class="co">## 42  Last       Easy       1</span></span>
<span><span class="co">## 43  Last       Easy       1</span></span>
<span><span class="co">## 44  Last       Easy       1</span></span>
<span><span class="co">## 45  Last       Easy       1</span></span>
<span><span class="co">## 46  Last       Easy       1</span></span>
<span><span class="co">## 47  Last       Easy       0</span></span>
<span><span class="co">## 48  Last       Easy       0</span></span>
<span><span class="co">## 49  Last   Moderate       1</span></span>
<span><span class="co">## 50  Last   Moderate       1</span></span>
<span><span class="co">## 51  Last   Moderate       1</span></span>
<span><span class="co">## 52  Last   Moderate       1</span></span>
<span><span class="co">## 53  Last   Moderate       1</span></span>
<span><span class="co">## 54  Last   Moderate       1</span></span>
<span><span class="co">## 55  Last   Moderate       1</span></span>
<span><span class="co">## 56  Last   Moderate       1</span></span>
<span><span class="co">## 57  Last   Moderate       0</span></span>
<span><span class="co">## 58  Last   Moderate       0</span></span>
<span><span class="co">## 59  Last   Moderate       0</span></span>
<span><span class="co">## 60  Last   Moderate       0</span></span>
<span><span class="co">## 61  Last  Difficult       1</span></span>
<span><span class="co">## 62  Last  Difficult       1</span></span>
<span><span class="co">## 63  Last  Difficult       1</span></span>
<span><span class="co">## 64  Last  Difficult       0</span></span>
<span><span class="co">## 65  Last  Difficult       0</span></span>
<span><span class="co">## 66  Last  Difficult       0</span></span>
<span><span class="co">## 67  Last  Difficult       0</span></span>
<span><span class="co">## 68  Last  Difficult       0</span></span>
<span><span class="co">## 69  Last  Difficult       0</span></span>
<span><span class="co">## 70  Last  Difficult       0</span></span>
<span><span class="co">## 71  Last  Difficult       0</span></span>
<span><span class="co">## 72  Last  Difficult       0</span></span></code></pre>
<p>When the data are in a wide format, the formula in
<code><a href="../reference/anopa.html">anopa()</a></code> must provide the columns where the success/failure
are stored, and the conditions after the usual ~, as in</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">w1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/anopa.html">anopa</a></span><span class="op">(</span> <span class="va">success</span> <span class="op">~</span> <span class="va">Class</span> <span class="op">*</span> <span class="va">Difficulty</span>, <span class="va">dataWide1</span><span class="op">)</span></span></code></pre></div>
<p>(how dataWide1 was obtained is shown below in the Section
<em>Converting between formats</em> below.)</p>
<p>As another example, consider the following example obtained in a
mixed, within- and between- subject design. It has a factor
<code>Status</code> with 8, 9 and 7 participants per group respectively.
It also has four repeated measures, <code>bpre</code>,
<code>bpost</code>, <code>b1week</code> and <code>b5week</code> which
represent four different Moments of measurements. The data frame is</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dataWide2</span></span></code></pre></div>
<pre><code><span><span class="co">##      Status bpre bpost b1week b5week</span></span>
<span><span class="co">## 1    Broken    1     1      1      0</span></span>
<span><span class="co">## 2    Broken    1     1      0      0</span></span>
<span><span class="co">## 3    Broken    0     0      1      1</span></span>
<span><span class="co">## 4    Broken    1     1      1      1</span></span>
<span><span class="co">## 5    Broken    0     0      1      1</span></span>
<span><span class="co">## 6    Broken    1     0      1      1</span></span>
<span><span class="co">## 7    Broken    1     1      0      1</span></span>
<span><span class="co">## 8    Broken    0     1      1      0</span></span>
<span><span class="co">## 9  Repaired    1     1      0      0</span></span>
<span><span class="co">## 10 Repaired    0     1      0      1</span></span>
<span><span class="co">## 11 Repaired    1     1      0      0</span></span>
<span><span class="co">## 12 Repaired    0     0      1      0</span></span>
<span><span class="co">## 13 Repaired    0     0      0      0</span></span>
<span><span class="co">## 14 Repaired    1     0      0      0</span></span>
<span><span class="co">## 15 Repaired    0     0      0      0</span></span>
<span><span class="co">## 16 Repaired    0     0      0      1</span></span>
<span><span class="co">## 17 Repaired    0     0      1      0</span></span>
<span><span class="co">## 18      New    0     0      0      1</span></span>
<span><span class="co">## 19      New    0     0      1      0</span></span>
<span><span class="co">## 20      New    0     0      0      0</span></span>
<span><span class="co">## 21      New    0     0      1      0</span></span>
<span><span class="co">## 22      New    0     0      0      0</span></span>
<span><span class="co">## 23      New    0     1      0      0</span></span>
<span><span class="co">## 24      New    0     0      1      0</span></span>
<span><span class="co">## 25      New    1     1      0      0</span></span>
<span><span class="co">## 26      New    0     0      0      1</span></span>
<span><span class="co">## 27      New    1     1      1      0</span></span></code></pre>
<p>The formula for analyzing these data in this format is</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">w2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/anopa.html">anopa</a></span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">bpre</span>, <span class="va">bpost</span>, <span class="va">b1week</span>, <span class="va">b5week</span><span class="op">)</span> <span class="op">~</span> <span class="va">Status</span>, <span class="va">dataWide2</span>, WSFactors <span class="op">=</span> <span class="st">"Moment(4)"</span> <span class="op">)</span></span></code></pre></div>
<p>It is necessary to (a) group all the measurement columns using
<code><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind()</a></code>; (b) indicate the within-subject factor(s) using
the argument <code>WSFactors</code> along with the number of levels each
in a string.</p>
</div>
<div class="section level3">
<h3 id="second-format-long-data-format">Second format: Long data format<a class="anchor" aria-label="anchor" href="#second-format-long-data-format"></a>
</h3>
<p>This format may be prefered for linear modelers (but it may rapidly
becomes <em>very</em> long!). There is always at least these columns:
One Id column, one column to indicate a within-subject level, and one
column to indicate the observed score. On the other hand, this format
has fewer columns in repeated measure designs.</p>
<p>This example shows the first 6 lines of the 2-factor between design
data above, stored in the long format.</p>
<pre><code><span><span class="co">##   Id Class Difficulty Variable Value</span></span>
<span><span class="co">## 1  1 First       Easy  success     1</span></span>
<span><span class="co">## 2  2 First       Easy  success     1</span></span>
<span><span class="co">## 3  3 First       Easy  success     1</span></span>
<span><span class="co">## 4  4 First       Easy  success     1</span></span>
<span><span class="co">## 5  5 First       Easy  success     1</span></span>
<span><span class="co">## 6  6 First       Easy  success     1</span></span></code></pre>
<p>To analyse such data format within <code><a href="../reference/anopa.html">anopa()</a></code>, use</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">w1Long</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/anopa.html">anopa</a></span><span class="op">(</span> <span class="va">Value</span> <span class="op">~</span> <span class="va">Class</span> <span class="op">*</span> <span class="va">Difficulty</span> <span class="op">*</span> <span class="va">Variable</span>  <span class="op">|</span> <span class="va">Id</span>, <span class="va">dataLong1</span> <span class="op">)</span></span></code></pre></div>
<p>The vertical line symbol indicates that the observations are nested
within <code>Id</code> (i.e., all the lines with the same Id are
actually the same subject).</p>
<p>With the mixed design described above, the data begin as:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">dataLong2</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   Id Status Variable Value</span></span>
<span><span class="co">## 1  1 Broken     bpre     1</span></span>
<span><span class="co">## 2  1 Broken    bpost     1</span></span>
<span><span class="co">## 3  1 Broken   b1week     1</span></span>
<span><span class="co">## 4  1 Broken   b5week     0</span></span>
<span><span class="co">## 5  2 Broken     bpre     1</span></span>
<span><span class="co">## 6  2 Broken    bpost     1</span></span></code></pre>
<p>and are analyzed with the formula:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">w2Long</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/anopa.html">anopa</a></span><span class="op">(</span> <span class="va">Value</span> <span class="op">~</span> <span class="va">Status</span> <span class="op">*</span> <span class="va">Variable</span>  <span class="op">|</span> <span class="va">Id</span>, <span class="va">dataLong2</span>, WSFactors<span class="op">=</span><span class="st">"Moment(4)"</span> <span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="third-format-compiled-data-format">Third format: Compiled data format<a class="anchor" aria-label="anchor" href="#third-format-compiled-data-format"></a>
</h3>
<p>This format is compiled, in the sense that the 0s and 1s have been
replaced by a single count of success for each cell of the design.
Hence, we no longer have access to the raw data. This format however has
the advantage of being very compact, requiring few lines. Here is the
data for the 2 between-subject factors example</p>
<pre><code><span><span class="co">##   Class Difficulty success Count</span></span>
<span><span class="co">## 1 First  Difficult       6    12</span></span>
<span><span class="co">## 2 First       Easy      11    12</span></span>
<span><span class="co">## 3 First   Moderate       9    12</span></span>
<span><span class="co">## 4  Last  Difficult       3    12</span></span>
<span><span class="co">## 5  Last       Easy      10    12</span></span>
<span><span class="co">## 6  Last   Moderate       8    12</span></span></code></pre>
<p>To use a compiled format in <code><a href="../reference/anopa.html">anopa()</a></code>, use</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">w1Compiled</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/anopa.html">anopa</a></span><span class="op">(</span> <span class="op">{</span><span class="va">success</span>; <span class="va">Count</span><span class="op">}</span> <span class="op">~</span> <span class="va">Class</span> <span class="op">*</span> <span class="va">Difficulty</span>, <span class="va">dataCompiled1</span> <span class="op">)</span></span></code></pre></div>
<p>where <code>succes</code> identifies in which column the total number
of successes are stored. The column Count indicates the total number of
observations in that cell. The notation {s;n} is read
<code>s over n</code> (note the curly braces and semicolon).</p>
<p>For the mixed design presented earlier, the data looks like:</p>
<pre><code><span><span class="co">##     Status bpre bpost b1week b5week Count      uAlpha</span></span>
<span><span class="co">## 1   Broken    5     5      6      5     8 -0.15204678</span></span>
<span><span class="co">## 2      New    2     3      4      2    10 -0.03463203</span></span>
<span><span class="co">## 3 Repaired    3     3      2      2     9 -0.10416667</span></span></code></pre>
<p>where there are columns for the number of success for each repeated
measures. A new columns appear <code>uAlpha</code>. This column (called
<em>unitary alpha</em>) is a measure of correlation (between -1 and +1).
In this ficticious example, the correlations are near zero (negative
actually) by chance as the data were generated randomly.</p>
<p>It is not possible to run an ANOPA analysis at this time on compiled
data when there are repeated measures (but this may change in a future
version).</p>
</div>
<div class="section level3">
<h3 id="converting-between-formats">Converting between formats<a class="anchor" aria-label="anchor" href="#converting-between-formats"></a>
</h3>
<p>Once entered in an <code><a href="../reference/anopa.html">anopa()</a></code> structure, it is possible to
convert to any format using <code><a href="../reference/conversion.html">toWide()</a></code>,
<code><a href="../reference/conversion.html">toCompiled()</a></code> and <code><a href="../reference/conversion.html">toLong()</a></code>. For example:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/conversion.html">toCompiled</a></span><span class="op">(</span><span class="va">w1</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   Class Difficulty success Count</span></span>
<span><span class="co">## 1 First  Difficult       6    12</span></span>
<span><span class="co">## 2 First       Easy      11    12</span></span>
<span><span class="co">## 3 First   Moderate       9    12</span></span>
<span><span class="co">## 4  Last  Difficult       3    12</span></span>
<span><span class="co">## 5  Last       Easy      10    12</span></span>
<span><span class="co">## 6  Last   Moderate       8    12</span></span></code></pre>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/conversion.html">toCompiled</a></span><span class="op">(</span><span class="va">w2</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##     Status bpre bpost b1week b5week Count      uAlpha</span></span>
<span><span class="co">## 1   Broken    5     5      6      5     8 -0.15204678</span></span>
<span><span class="co">## 2      New    2     3      4      2    10 -0.03463203</span></span>
<span><span class="co">## 3 Repaired    3     3      2      2     9 -0.10416667</span></span></code></pre>
<p>The compiled format is probably the most compact format, but the wide
format is the most explicite format (as we see all the subjects and
their scores on a single line, one subject per line).</p>
</div>
<div class="section level3">
<h3 id="getting-the-example-data-frame">Getting the example data frame<a class="anchor" aria-label="anchor" href="#getting-the-example-data-frame"></a>
</h3>
<p>Above, we used two examples. They are available in this package under
the names <code>twoWayExample</code> and <code>minimalMxExample</code>.
The first is available in compiled form, the second in wide form.</p>
<p>We converted these data set in other formats using:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">w1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/anopa.html">anopa</a></span><span class="op">(</span> <span class="op">{</span><span class="va">success</span>;<span class="va">total</span><span class="op">}</span> <span class="op">~</span> <span class="va">Class</span> <span class="op">*</span> <span class="va">Difficulty</span>, <span class="va">twoWayExample</span><span class="op">)</span></span>
<span><span class="va">dataWide1</span>     <span class="op">&lt;-</span> <span class="fu"><a href="../reference/conversion.html">toWide</a></span><span class="op">(</span><span class="va">w1</span><span class="op">)</span></span>
<span><span class="va">dataCompiled1</span> <span class="op">&lt;-</span><span class="fu"><a href="../reference/conversion.html">toCompiled</a></span><span class="op">(</span><span class="va">w1</span><span class="op">)</span></span>
<span><span class="va">dataLong1</span>     <span class="op">&lt;-</span> <span class="fu"><a href="../reference/conversion.html">toLong</a></span><span class="op">(</span><span class="va">w1</span><span class="op">)</span></span>
<span></span>
<span><span class="va">w2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/anopa.html">anopa</a></span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">bpre</span>, <span class="va">bpost</span>, <span class="va">b1week</span>, <span class="va">b5week</span><span class="op">)</span> <span class="op">~</span> <span class="va">Status</span>, <span class="va">minimalMxExample</span>, WSFactors <span class="op">=</span> <span class="st">"Moment(4)"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## ANOPA::fyi: Here is how the within-subject variables are understood:</span></span></code></pre>
<pre><code><span><span class="co">##  Moment Variable</span></span>
<span><span class="co">##       1     bpre</span></span>
<span><span class="co">##       2    bpost</span></span>
<span><span class="co">##       3   b1week</span></span>
<span><span class="co">##       4   b5week</span></span></code></pre>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dataWide2</span>     <span class="op">&lt;-</span> <span class="fu"><a href="../reference/conversion.html">toWide</a></span><span class="op">(</span><span class="va">w2</span><span class="op">)</span></span>
<span><span class="va">dataCompiled2</span> <span class="op">&lt;-</span><span class="fu"><a href="../reference/conversion.html">toCompiled</a></span><span class="op">(</span><span class="va">w2</span><span class="op">)</span></span>
<span><span class="va">dataLong2</span>     <span class="op">&lt;-</span> <span class="fu"><a href="../reference/conversion.html">toLong</a></span><span class="op">(</span><span class="va">w2</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="multiple-repeated-measure-factors">Multiple repeated-measure factors<a class="anchor" aria-label="anchor" href="#multiple-repeated-measure-factors"></a>
</h3>
<p>One limitation is with regards to repeated measures: It is not
possible to guess the name of the within-subject factors from the names
of the columns. This is why, as soon as there are more than one
measurement, the argument <code>WSFactors</code> must be added.</p>
<p>Suppose a two-way within-subject design with 2 x 3 levels. The data
set <code>twoWayWithinExample</code> has 6 columns; the first three are
for the factor A, level 1, and the last three are for factor A, level 2.
Within each triplet of column, the factor B goes from 1 to 3.</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">w3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/anopa.html">anopa</a></span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">r11</span>,<span class="va">r12</span>,<span class="va">r12</span>,<span class="va">r21</span>,<span class="va">r22</span>,<span class="va">r23</span><span class="op">)</span> <span class="op">~</span> <span class="va">.</span> , </span>
<span>             <span class="va">twoWayWithinExample</span>, </span>
<span>             WSFactors <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A(3)"</span>,<span class="st">"B(2)"</span><span class="op">)</span> </span>
<span>            <span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## ANOPA::fyi: Here is how the within-subject variables are understood:</span></span></code></pre>
<pre><code><span><span class="co">##  A B Variable</span></span>
<span><span class="co">##  1 1      r11</span></span>
<span><span class="co">##  2 1      r12</span></span>
<span><span class="co">##  3 1      r12</span></span>
<span><span class="co">##  1 2      r21</span></span>
<span><span class="co">##  2 2      r22</span></span>
<span><span class="co">##  3 2      r23</span></span></code></pre>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/conversion.html">toCompiled</a></span><span class="op">(</span><span class="va">w3</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   r11 r12 r12.1 r21 r22 r23 Count    uAlpha</span></span>
<span><span class="co">## 1  14   6     6  14  16  14    30 0.1074324</span></span></code></pre>
<p>A “fyi” message is shown which lets you see how the variables are
interpreted. Such messages can be inhibited by changing the option</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span><span class="st">"ANOPA.feedback"</span> <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span></span></code></pre></div>
<p>To know more about analyzing proportions with ANOPA, refer to <span class="citation">Laurencelle &amp; Cousineau (2023)</span> or to <a href="../articles/A-WhatIsANOPA.html">What is an ANOPA?</a>.</p>
</div>
</div>
<div class="section level2">
<h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0" line-spacing="2">
<div id="ref-lc23" class="csl-entry">
Laurencelle, L., &amp; Cousineau, D. (2023). Analysis of proportions
using arcsine transform with any experimental design. <em>Frontiers in
Psychology</em>, <em>13</em>, 1045436. <a href="https://doi.org/10.3389/fpsyg.2022.1045436" class="external-link">https://doi.org/10.3389/fpsyg.2022.1045436</a>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Denis Cousineau, Louis Laurencelle.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
